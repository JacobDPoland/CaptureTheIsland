@{
    ViewData["Title"] = "OSINT Hard — Barcode Analysis";
}

<div class="card bg-secondary bg-opacity-25 border-light shadow-lg p-4">

    <h2 class="text-center mb-4" style="color:white;">🔴 Hard — Barcode</h2>

    <p class="text-light">
        This challenge will give you experience decoding <strong>real barcodes</strong> using online tools
        or mobile scanners.
    </p>

    <div class="text-center mb-3">
        <img src="~/images/barcode.png" class="img-fluid rounded border" alt="Barcode Challenge">
    </div>

    <a href="/images/barcode.png" download class="btn btn-outline-info mb-4">
        ⬇ Download Barcode Image
    </a>

    <hr class="border-secondary" />

    <h4 class="text-light">Questions</h4>

    <!-- ================================= -->
    <!--        SUBMISSION FORM START       -->
    <!-- ================================= -->
    <form method="post" asp-action="SubmitOSINTHard" class="text-light">

        <div class="mb-3">
            <label class="form-label">1. Barcode format:</label>
            <input name="format"
                   class="form-control bg-dark text-light border-secondary"
                   placeholder="ex: CODE-39" />
        </div>

        <div class="mb-3">
            <label class="form-label">2. Hidden flag inside the barcode:</label>
            <input name="flag"
                   class="form-control bg-dark text-light border-secondary"
                   placeholder="ex: CTI-UZLU-5369" />
        </div>

        <button type="submit" class="btn btn-primary mt-2">Submit Answers</button>
    </form>

    <!-- ================================= -->
    <!--   SUCCESS / ERROR MESSAGES        -->
    <!-- ================================= -->
    @if (TempData["Success"] != null)
    {
        <div class="alert alert-success mt-3">
            ✅ @TempData["Success"]
        </div>

        <script>
            document.addEventListener("DOMContentLoaded", () => {
                markChallengeComplete("OSINT_Hard");
            });
        </script>
    }

    @if (TempData["Error"] != null)
    {
        <div class="alert alert-danger mt-3">
            ❌ @TempData["Error"]
        </div>
    }

    @if (TempData["Success"] != null)
    {
        <script>
            markChallengeComplete("OSINT_Hard");
        </script>
    }


    <hr class="border-secondary" />

    <!-- Walkthrough -->
    <details class="mt-3">
        <summary class="text-info">📘 Walkthrough (Click to expand)</summary>
        <div class="text-light mt-2">

            <p>Use an online barcode scanner such as:</p>
            <ul>
                <li>
                    <a href="https://online-barcode-reader.inliteresearch.com/" target="_blank">
                        Inlite Online Barcode Reader
                    </a>
                </li>
                <li>Mobile phone barcode scanner apps</li>
            </ul>

            <p>Upload the image or scan it to reveal:</p>

            <ul>
                <li><strong>Barcode Format:</strong> CODE-39</li>
                <li><strong>Flag:</strong> CTI-UZLU-5369</li>
            </ul>

        </div>
    </details>

    <div class="d-flex justify-content-between mt-4">
        <a href="/Challenges/OSINT_Medium" class="btn btn-outline-light">← Back</a>
        <a href="/Challenges" class="btn btn-primary">Back to All Challenges</a>
    </div>

</div>
